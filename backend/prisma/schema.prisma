generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema", "relationJoins"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["pretrial_slim"]
}

model cases {
  internal_case_id                            String?
  gender                                      String?
  race                                        String?
  ethnicity                                   String?
  age_at_crime                                String?
  age_at_arrest                               String?
  court_name                                  String?
  court_ori                                   String?
  county_name                                 String?
  district                                    String?
  region                                      String?
  court_type                                  String?
  judge_name                                  String?
  offense_month                               String?
  offense_year                                String?
  arrest_month                                String?
  arrest_year                                 String?
  arrest_type                                 String?
  top_arrest_law                              String?
  top_arrest_article_section                  String?
  top_arrest_attempt_indicator                String?
  top_charge_at_arrest                        String?
  top_charge_severity_at_arrest               String?
  top_charge_weight_at_arrest                 String?
  top_charge_at_arrest_violent_felony_ind     String?
  case_type                                   String?
  first_arraign_date                          String?
  top_arraign_law                             String?
  top_arraign_article_section                 String?
  top_arraign_attempt_indicator               String?
  top_charge_at_arraign                       String?
  top_severity_at_arraign                     String?
  top_charge_weight_at_arraign                String?
  top_charge_at_arraign_violent_felony_ind    String?
  hate_crime_ind                              String?
  arraign_charge_category                     String?
  representation_type                         String?
  app_count_arraign_to_dispo_released         String?
  app_count_arraign_to_dispo_detained         String?
  app_count_arraign_to_dispo_total            String?
  def_attended_sched_pretrials                String?
  remanded_to_jail_at_arraign                 String?
  ror_at_arraign                              String?
  bail_set_and_posted_at_arraign              String?
  bail_set_and_not_posted_at_arraign          String?
  nmr_at_arraign                              String?
  release_decision_at_arraign                 String?
  representation_at_securing_order            String?
  pretrial_supervision_at_arraign             String?
  contact_pretrial_service_agency             String?
  electronic_monitoring                       String?
  travel_restrictions                         String?
  passport_surrender                          String?
  no_firearms_or_weapons                      String?
  maintain_employment                         String?
  maintain_housing                            String?
  maintain_school                             String?
  placement_in_mandatory_program              String?
  removal_to_hospital                         String?
  obey_order_of_protection                    String?
  obey_court_conditions_family_offense        String?
  other_nmr                                   String?
  order_of_protection                         String?
  first_bail_set_cash                         String?
  first_bail_set_credit                       String?
  first_insurance_company_bail_bond           String?
  first_secured_surety_bond                   String?
  first_secured_app_bond                      String?
  first_unsecured_surety_bond                 String?
  first_unsecured_app_bond                    String?
  first_partially_secured_surety_bond         String?
  partially_secured_surety_bond_perc          String?
  first_partially_secured_app_bond            String?
  partially_secured_app_bond_perc             String?
  bail_made_indicator                         String?
  warrant_ordered_btw_arraign_and_dispo       String?
  dat_wo_ws_prior_to_arraign                  String?
  first_bench_warrant_date                    String?
  non_stayed_wo                               String?
  num_of_stayed_wo                            String?
  num_of_row                                  Int?
  docket_status                               String?
  disposition_type                            String?
  disposition_detail                          String?
  dismissal_reason                            String?
  disposition_date                            String?
  most_severe_sentence                        String?
  top_conviction_law                          String?
  top_conviction_article_section              String?
  top_conviction_attempt_indicator            String?
  top_charge_at_conviction                    String?
  top_charge_severity_at_conviction           String?
  top_charge_weight_at_conviction             String?
  top_charge_at_conviction_violent_felony_ind String?
  days_arraign_remand_first_released          String?
  known_days_in_custody                       String?
  days_arraign_bail_set_to_first_posted       String?
  days_arraign_bail_set_to_first_release      String?
  days_arraign_to_dispo                       String?
  ucmslivedate                                String?
  prior_vfo_cnt                               String?
  prior_nonvfo_cnt                            String?
  prior_misd_cnt                              String?
  pend_vfo                                    String?
  pend_nonvfo                                 String?
  pend_misd                                   String?
  supervision                                 String?
  rearrest                                    String?
  rearrest_date                               String?
  rearrest_firearm                            String?
  rearrest_date_firearm                       String?
  arr_cycle_id                                String?
  case_id                                     String      @id(map: "cases_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  judge_id                                    String?     @db.Uuid
  county_id                                   String?     @db.Uuid
  counties                                    counties?   @relation(fields: [county_id], references: [county_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_county")
  judges                                      judges_old? @relation(fields: [judge_id], references: [judge_id], onDelete: NoAction, onUpdate: NoAction, map: "fk_judge")

  @@schema("pretrial_slim")
}

model counties {
  county_id                    String   @id(map: "county_pkey") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  county_name                  String   @unique(map: "county_county_name_key")
  case_count                   Int?     @default(0)
  remand_at_arraign            Int?     @default(0)
  ror_at_arraign               Int?     @default(0)
  nmr_at_arraign               Int?     @default(0)
  release_at_arraign           Int?     @default(0)
  bail_set_at_arraign          Int?     @default(0)
  total_bail_set               Decimal? @default(0) @db.Decimal
  average_bail_set             Decimal? @default(0) @db.Decimal
  percent_ror                  Decimal? @default(0) @db.Decimal
  percent_nmr                  Decimal? @default(0) @db.Decimal
  percent_release              Decimal? @default(0) @db.Decimal
  percent_remand               Decimal? @default(0) @db.Decimal
  percent_bail_set             Decimal? @default(0) @db.Decimal
  unknown_at_arraign           Int?     @default(0)
  percent_unknown              Decimal? @default(0) @db.Decimal
  judges                       String[]
  percentile_state_bail_set    Decimal? @db.Decimal
  percentile_state_bail_amount Decimal? @db.Decimal
  percentile_state_remand      Decimal? @db.Decimal
  percentile_state_ror         Decimal? @db.Decimal
  percentile_state_nmr         Decimal? @db.Decimal
  percentile_state_release     Decimal? @db.Decimal
  percentile_state_unknown     Decimal? @db.Decimal
  median_income                Int?
  percentile_state_case_count  Decimal? @db.Decimal
  cases                        cases[]

  @@schema("pretrial_slim")
}

model judges {
  judge_id               String                   @id(map: "judges_pkey1") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  judge_name             String                   @unique(map: "judges_judge_name_key1")
  case_count             Int?                     @default(0)
  counties               String[]
  primary_county         String?
  arraignment_statistics arraignment_statistics[]
  bail_statistics        bail_statistics[]
  percentiles            percentiles[]

  @@schema("pretrial_slim")
}

model arraignment_statistics {
  stat_id    String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  judge_id   String   @db.Uuid
  stat_type  String
  severity   String
  count      Int?     @default(0)
  percentage Decimal? @default(0) @db.Decimal
  judges     judges   @relation(fields: [judge_id], references: [judge_id], onDelete: NoAction, onUpdate: NoAction)

  @@schema("pretrial_slim")
}

model bail_statistics {
  bail_stat_id     String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  judge_id         String   @db.Uuid
  total_bail_set   Decimal? @default(0) @db.Decimal
  average_bail_set Decimal? @default(0) @db.Decimal
  severity         String?
  judges           judges   @relation(fields: [judge_id], references: [judge_id], onDelete: NoAction, onUpdate: NoAction)

  @@schema("pretrial_slim")
}

model judges_old {
  judge_id                      String   @id(map: "judges_pkey") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  judge_name                    String   @unique(map: "judges_judge_name_key")
  case_count                    Int?     @default(0)
  remand_at_arraign             Int?     @default(0)
  ror_at_arraign                Int?     @default(0)
  nmr_at_arraign                Int?     @default(0)
  release_at_arraign            Int?     @default(0)
  bail_set_at_arraign           Int?     @default(0)
  total_bail_set                Decimal? @default(0) @db.Decimal
  average_bail_set              Decimal? @default(0) @db.Decimal
  percent_ror                   Decimal? @default(0) @db.Decimal
  percent_nmr                   Decimal? @default(0) @db.Decimal
  percent_release               Decimal? @default(0) @db.Decimal
  percent_remand                Decimal? @default(0) @db.Decimal
  percent_bail_set              Decimal? @default(0) @db.Decimal
  unknown_at_arraign            Int?     @default(0)
  percent_unknown               Decimal? @default(0) @db.Decimal
  counties                      String[]
  percentile_state_bail_set     Decimal? @db.Decimal
  percentile_county_bail_set    Decimal? @db.Decimal
  percentile_state_bail_amount  Decimal? @db.Decimal
  percentile_county_bail_amount Decimal? @db.Decimal
  percentile_state_remand       Decimal? @db.Decimal
  percentile_county_remand      Decimal? @db.Decimal
  percentile_state_ror          Decimal? @db.Decimal
  percentile_county_ror         Decimal? @db.Decimal
  percentile_state_nmr          Decimal? @db.Decimal
  percentile_county_nmr         Decimal? @db.Decimal
  percentile_state_release      Decimal? @db.Decimal
  percentile_county_release     Decimal? @db.Decimal
  percentile_state_unknown      Decimal? @db.Decimal
  percentile_county_unknown     Decimal? @db.Decimal
  primary_county                String?
  percentile_county_case_count  Decimal? @db.Decimal
  percentile_state_case_count   Decimal? @db.Decimal
  cases                         cases[]

  @@schema("pretrial_slim")
}

model percentiles {
  percentile_id    String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  judge_id         String   @db.Uuid
  percentile_type  String
  percentile_value Decimal? @db.Decimal
  judges           judges   @relation(fields: [judge_id], references: [judge_id], onDelete: NoAction, onUpdate: NoAction)

  @@schema("pretrial_slim")
}
